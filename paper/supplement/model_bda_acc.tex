% model_lda.tex
%
% Copyright (C) 2010,2011 Laura Dietz
% Copyright (C) 2012 Jaakko Luttinen
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU General Public License.
%
% See the files LICENSE_LPPL and LICENSE_GPL for more details.

% Latent Diriclet allocation model

%\beginpgfgraphicnamed{model-lda}

\begin{tikzpicture}[x=1.7cm,y=1.8cm]

 % Nodes

\node[obs] (y) {$y_i$}; 
\node[latent, above=	0.5 of y]   (mu)   {$\mu_i$};
\node[latent, right=	0.3 of mu]   (sigma)   {$\sigma$};
\node[obs, left=0.5 of mu]   (x)   {$x_i$};


\node[latent, above left =0.5 of mu]   (alpha)   {$\alpha$};
\node[latent, above right=0.5 of mu]   (beta)   {$\beta$};

\node[right=1.5 of mu] {
 $\begin{aligned}
     &\alpha \sim \text{Gaussian(0, $10$)}\\
     &\beta \sim \text{TruncatedGaussian$_+$(0, 1)}\\
     &\sigma \sim \text{Uniform($1/1000$, 1000)}\\
     &\mu_i \leftarrow\ \alpha + \beta \ast x_i\\ 
     &y_i \sim\ \text{Gaussian($\mu_i$, $\sigma$)}
  \end{aligned}$
};


% Connect nodes
  \edge[->] {mu, sigma} {y};
  \edge[->] {x, alpha, beta} {mu} ;
 
   % Plates
  \plate {} {
        (x)(y)
  } {$i\ participants$};

\end{tikzpicture}
%\endpgfgraphicnamed

%%% Local Variables: 
%%% mode: tex-pdf
%%% TeX-master: "example"
%%% End: 
